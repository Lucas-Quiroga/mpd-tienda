import{j as e,c as i,f as n}from"./utils.BkWr051p.js";import{r as l}from"./index.DWKhlr8t.js";import{X as R,u as D,c as $,d as z,r as I,e as O,f as q}from"./cartStore.GRNA0dIf.js";import{c as A,B as c}from"./button.CYrJCsL-.js";import{O as f,P as M,C as h,a as u,T as j,D as g,R as B,b as P}from"./index.DqK2iDTc.js";import{G as y}from"./iconBase.B7uvpBK2.js";import{D as p}from"./const.D9r1vPbu.js";import"./createLucideIcon.hjzkcH4V.js";import"./index.DCM1_hEY.js";import"./Combination.VnqCLJna.js";import"./index.XeH8wQWu.js";import"./index.CeWXdII0.js";import"./tslib.es6.CDuPK5Eb.js";import"./index.CauQR6HY.js";const E=B,L=P,F=u,Z=M,N=l.forwardRef(({className:t,...a},r)=>e.jsx(f,{className:i("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a,ref:r}));N.displayName=f.displayName;const Q=A("fixed z-50 gap-4 bg-white p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500 dark:bg-slate-950",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),b=l.forwardRef(({side:t="right",className:a,children:r,...d},m)=>e.jsxs(Z,{children:[e.jsx(N,{}),e.jsxs(h,{ref:m,className:i(Q({side:t}),a),...d,children:[r,e.jsxs(u,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-slate-100 dark:ring-offset-slate-950 dark:focus:ring-slate-300 dark:data-[state=open]:bg-slate-800",children:[e.jsx(R,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));b.displayName=h.displayName;const w=({className:t,...a})=>e.jsx("div",{className:i("flex flex-col space-y-2 text-center sm:text-left",t),...a});w.displayName="SheetHeader";const v=({className:t,...a})=>e.jsx("div",{className:i("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a});v.displayName="SheetFooter";const C=l.forwardRef(({className:t,...a},r)=>e.jsx(j,{ref:r,className:i("text-lg font-semibold text-slate-950 dark:text-slate-50",t),...a}));C.displayName=j.displayName;const k=l.forwardRef(({className:t,...a},r)=>e.jsx(g,{ref:r,className:i("text-sm text-slate-500 dark:text-slate-400",t),...a}));k.displayName=g.displayName;function U(t){return y({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"},child:[]}]})(t)}function G(t){return y({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7 4V2H17V4H22V6H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V6H2V4H7ZM6 6V20H18V6H6ZM9 9H11V17H9V9ZM13 9H15V17H13V9Z"},child:[]}]})(t)}const ne=()=>{const t=D($),[a,r]=l.useState(0);l.useEffect(()=>{r(z())},[t]);const d=()=>Object.values(t).filter(s=>s.quantity>0),m=()=>{const s=d(),S=s.map(o=>`${o.name} x ${o.quantity} = ${n.format(o.quantity*o.price)} ARS`).join(`
`),H=n.format(s.reduce((o,x)=>o+x.quantity*x.price,0)),T=`¡Hola! Te paso el resumen de mi pedido ☺ 

    ${S}
    ----------------
    Total: ${H} ARS
    Espero tu respuesta para confirmar mi pedido`,V=`${p.contact.whatsappUrl}?phone=${p.contact.phone}&text=${encodeURIComponent(T)}`;window.open(V,"_blank"),q()};return e.jsxs(E,{children:[e.jsx(L,{asChild:!0,children:e.jsxs(c,{variant:"outline",children:[e.jsx(U,{className:"dark:text-white"}),a>0&&e.jsx("span",{className:"text-black ml-2 dark:text-white",children:a})]})}),e.jsxs(b,{className:"flex flex-col h-full",children:[e.jsxs(w,{children:[e.jsx(C,{children:"PRODUCTOS"}),e.jsxs(k,{className:"text-lg",children:[a," ",a===1?"producto":"productos"," en tu carrito"]})]}),Object.values(t).length===0&&e.jsx("p",{children:"¡Tu carrito está vacío!"}),e.jsx("ul",{className:"flex flex-col gap-y-4 overflow-y-auto flex-grow",children:Object.values(t).map(s=>s.quantity===0?null:e.jsxs("li",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex flex-col justify-between w-full",children:[e.jsxs("div",{className:"flex justify-between items-center ",children:[e.jsx("p",{className:"text-gray-400 text-sm sm:text-base",children:"Nombre"}),e.jsx("p",{className:"text-sm dark:text-white",children:s.name})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-gray-400 text-sm sm:text-base",children:"Cantidad"}),e.jsxs("p",{className:"dark:text-white",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-white",children:"x"})," ",s.quantity]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-gray-400 text-sm sm:text-base",children:"Precio"}),e.jsx("p",{className:"dark:text-white",children:n.format(s.quantity*s.price)})]})]}),e.jsx(c,{variant:"destructive",size:"sm",onClick:()=>I(s.id),children:e.jsx(G,{size:20})})]},s.id))}),e.jsxs(v,{className:"mt-auto ",style:{display:"flex",flexDirection:"column"},children:[e.jsx("div",{children:a>0&&e.jsxs("div",{className:"flex flex-col gap-y-2 ",children:[e.jsxs("div",{className:"border border-gray-300 p-2 rounded-md flex justify-between bg-gray-50",children:[e.jsx("p",{className:"text-md font-medium",children:"Total:"}),e.jsx("p",{className:"text-md font-medium",children:n.format(O())})]}),e.jsx(c,{onClick:m,className:"dark:hover:bg-gray-700 dark:hover:text-white",children:"Finalizar compra"})]})}),e.jsx(F,{className:"mt-2",children:e.jsx(c,{variant:"outline",className:"m-0 dark:text-white",children:"Cerrar"})})]})]})]})};export{ne as default};
