import{r as i}from"./index.DgOxCJIz.js";import{j as m,c as x}from"./utils.CV4bOxs7.js";import{c as h}from"./button.DHZLWCb5.js";import{c as w}from"./createLucideIcon.ZND8IBUW.js";/**
 * @license lucide-react v0.394.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g=w("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function k(o,l){const[a,t]=i.useState({data:null,error:null,isLoading:!1,isSuccess:!1}),s=i.useRef(null),u=i.useCallback(async(c,r)=>{s.current&&s.current.abort();const f=new AbortController;s.current=f,t(e=>({...e,isLoading:!0}));try{const e=new Headers(r?.headers);r?.token&&e.set("Authorization",`Bearer ${r.token}`);const n=await fetch(c,{...r,headers:e,signal:f.signal});if(!n.ok)throw new Error(n.statusText);const d=await n.json();return t({data:d,error:null,isLoading:!1,isSuccess:!0}),{data:d,response:n}}catch(e){if(e instanceof Error&&e.name==="AbortError")return;throw t({data:null,error:e,isLoading:!1,isSuccess:!1}),e}finally{s.current=null}},[]),p=i.useCallback(async(c,r)=>u(c,r),[u,o]);return{...a,isError:!!a.error,execute:p}}const y=h("flex-col items-center justify-center",{variants:{show:{true:"flex",false:"hidden"}},defaultVariants:{show:!0}}),z=h("animate-spin text-primary",{variants:{size:{small:"size-6",medium:"size-8",large:"size-12"}},defaultVariants:{size:"medium"}});function C({size:o,show:l,children:a,className:t}){return m.jsxs("span",{className:y({show:l}),children:[m.jsx(g,{className:x(z({size:o}),t)}),a]})}export{C as S,k as u};
